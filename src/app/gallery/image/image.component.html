<div *ngIf="isLoading" class="text-center loading-area">
  <jblog-load-spinner></jblog-load-spinner>
  Loadingâ€¦
</div>

<div *ngIf="!isLoading && hasError" class="text-center">
  <h1>This image does not exist</h1>
</div>

<div *ngIf="data && !isLoading">
  <div
    class="presenter"
    [class.container]="isZoomedOut"
    [class.zoomed-out]="isZoomedOut"
    [class.zoomed-in]="!isZoomedOut"
  >
    <div class="image-area">
      <div class="featured" *ngIf="data.featured" title="Featured">
        <i class="far fa-fw fa-trophy" aria-hidden="true"></i>
      </div>
      <img
        src="{{ data.src }}"
        alt="full sized image"
        class="light-shadow"
        [class.responsive]="isZoomedOut"
        (click)="toggleZoom($event)"
      />
    </div>
  </div>
  <div class="controls button-container text-center">
    <a
      [routerLink]="['/art/album', getPrimaryAlbum().name]"
      id="parent-folder-link"
    >
      <i class="far fa-fw fa-th-large" aria-hidden="true"></i> Back to
      <em>{{ getPrimaryAlbum().title }}</em>
    </a>
    <a href="#" (click)="toggleZoom($event)">
      <i
        class="far fa-fw"
        aria-hidden="true"
        [class.fa-search-plus]="isZoomedOut"
        [class.fa-search-minus]="!isZoomedOut"
      ></i>
      Zoom <span *ngIf="isZoomedOut">in</span>
      <span *ngIf="!isZoomedOut">out</span>
    </a>
  </div>

  <div class="container">
    <article class="grid">
      <header>
        <h1 id="image-title">{{ data.title }}</h1>
        <div class="date" title="{{ data.date * 1000 | date: 'medium' }}">
          <i class="far fa-fw fa-calendar" aria-hidden="true"></i>
          {{ data.date * 1000 | date: 'mediumDate' }}
        </div>
      </header>

      <div class="content-area" [innerHTML]="getParsedContent()"></div>

      <footer>
        <ul class="tags-area" id="gallery-area">
          <li><i class="far fa-tags" aria-hidden="true"></i></li>
          <li class="tag" *ngFor="let gallery of data.containingAlbums">
            <a class="rounded" [routerLink]="['/art/album', gallery.name]">{{
              gallery.title
            }}</a>
          </li>
        </ul>
      </footer>
    </article>
  </div>
</div>
